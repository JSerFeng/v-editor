{"code":"import { __assign } from \"tslib\";\r\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\r\nimport { memo, useEffect, useState } from \"react\";\r\nimport Render from \"../../render\";\r\nimport Operators from \"./operators\";\r\nimport WidgetsList from \"./WidgetsList\";\r\nimport HeaderConfig from \"./operators/HeaderConfig\";\r\nimport EventEmitter from \"../../utils/eventEmitter\";\r\nimport \"./style.scss\";\r\nvar eventPool = new EventEmitter();\r\nvar WorkPlace = function (_a) {\r\n    var widgetsCenter = _a.widgetsCenter;\r\n    var _b = useState(widgetsCenter.getAll()), allWidgetPkges = _b[0], setAllWidgetPkges = _b[1];\r\n    var createWidgets = function (config) {\r\n        if (typeof config === \"string\") {\r\n            var pkg = widgetsCenter.get(config);\r\n            if (pkg) {\r\n                return pkg.FC;\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n        var widgetDescription = widgetsCenter.get(config);\r\n        return (widgetDescription === null || widgetDescription === void 0 ? void 0 : widgetDescription.FC) || null;\r\n    };\r\n    useEffect(function () {\r\n        widgetsCenter.subscribe(function (all) {\r\n            setAllWidgetPkges(all);\r\n        });\r\n    }, [widgetsCenter]);\r\n    return (_jsxs(\"div\", { children: [_jsx(HeaderConfig, {}, void 0),\r\n            _jsxs(\"div\", __assign({ className: \"flex jb\", style: { height: \"90vh\" } }, { children: [_jsx(WidgetsList, { allWidgets: allWidgetPkges, widgetsCenter: widgetsCenter }, void 0),\r\n                    _jsx(Render, { widgetsCenter: widgetsCenter, eventPool: eventPool, createWidgets: createWidgets }, void 0),\r\n                    _jsx(Operators, { widgetsCenter: widgetsCenter }, void 0)] }), void 0)] }, void 0));\r\n};\r\nexport default memo(WorkPlace);\r\n","references":["D:/PROJECT/v-editor/node_modules/@types/react/index.d.ts","D:/PROJECT/v-editor/src/render/index.tsx","D:/PROJECT/v-editor/src/pages/work-place/operators/index.tsx","D:/PROJECT/v-editor/src/pages/work-place/WidgetsList.tsx","D:/PROJECT/v-editor/src/render/interfaces.ts","D:/PROJECT/v-editor/src/render/WidgetsCenter.ts","D:/PROJECT/v-editor/src/pages/work-place/operators/HeaderConfig.tsx","D:/PROJECT/v-editor/src/utils/eventEmitter.ts"],"dts":{"name":"D:/PROJECT/v-editor/node_modules/.cache/rollup-plugin-typescript2/placeholder/src/pages/work-place/index.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport WidgetsCenter from \"../../render/WidgetsCenter\";\r\nimport \"./style.scss\";\r\ndeclare const _default: import(\"react\").NamedExoticComponent<{\r\n    widgetsCenter: WidgetsCenter;\r\n}>;\r\nexport default _default;\r\n"}}
